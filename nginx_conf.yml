---
  - hosts: nginx
    become: true
    tasks:
      - name: Backing up original nginx conf 
        stat:
          path: /etc/nginx/sites-available/default
        register: conf_register
      - name: moving file 1
        command: mv /etc/nginx/sites-available/default /tmp
        when: conf_register.stat.exists
      - name: Add custom nginx config 
        copy: 
          src: ./default.conf
          dest: /etc/nginx/sites-available/default
      - name: Restart Nginx
        service: 
          name: nginx
          state: reloaded